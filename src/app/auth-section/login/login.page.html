<app-header></app-header>
<ion-content class="body"  padding>
  <h1 class="head">התחברות למערכת</h1>
  <p class="sub-header">
    כדי להירשם לאירוע ,
    אנא התחבר\י למערכת
  </p>
  <form [formGroup]="form" (ngSubmit)="onLogin(form)">
    <ion-grid>
      <ion-row  justify-content-center>
        <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
          <div padding>
              <ion-input 
              [ngStyle]="{'border': form.controls['email'].errors && !form.controls['email'].pristine ? '2px solid red' : ''}"
              class="login-style login-input" 
              inputmode="email" 
              name="email" 
              type="email" 
              placeholder="your@email.com" 
              formControlName="email" 
              shape="round" 
              required></ion-input>
              <div *ngIf="form.controls['email'].errors && !form.controls['email'].pristine" class="error-msg">
                  <ion-note style="color:red;" [hidden]="!form.controls['email'].errors.required">יש להכניס מייל</ion-note>
                  <ion-note style="color:red;" [hidden]="!form.controls['email'].errors.pattern"> יש להכניס מייל תקני</ion-note>
              </div>
              <ion-input 
              [ngStyle]="{'border': form.controls['password'].errors && !form.controls['password'].pristine ? '2px solid red' : ''}"
              class="login-style login-input" 
              name="password" type="password" 
              placeholder="סיסמא" 
              formControlName="password" 
              shape="round" 
              required></ion-input>
              <div *ngIf="form.controls['password'].errors && !form.controls['password'].pristine" class="error-msg">
                  <ion-note style="color:red;" [hidden]="!form.controls['password'].errors.required">יש להכניס סיסמא</ion-note>
                  <ion-note style="color:red;" [hidden]="form.controls['password'].errors.minLength">סיסמא חייבת להכיל 8 תווים ומעלה</ion-note>
              </div>

              <ion-button color="secondary" *ngIf="!isLogin" class="login-style" size="large" type="submit" [disabled]="form.invalid" expand="block" shape="round">התחבר</ion-button>
              <ion-button *ngIf="isLogin" (click)="onLogout()" color="danger" class="login-style" size="large" type="submit" expand="block" shape="round">התנתק</ion-button>
              <!-- <ion-button size="large" type="button" class="facebook login-style" (click)="onFbLogin()" expand="block" shape="round">
                  <ion-icon class="fb-logo" name="logo-facebook"></ion-icon>
                  facebook התחבר באמצעות  
              </ion-button> -->
              <ion-button class="login-style register-btn" size="large" shape="round" type="button" [routerLink]="[ '/auth/register']" expand="block">הרשמה</ion-button>
            </div>

        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>

