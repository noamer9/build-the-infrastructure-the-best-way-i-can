<app-header></app-header>
<ion-buttons slot="start" dir="rtl">
    <ion-back-button color="primary" defaultHref="/events" text="לאירועים" icon="arrow-forward">
    </ion-back-button>
  </ion-buttons>
<ion-content *ngIf="eventToPurchase !== undefined">
  <ion-card dir="rtl">
    <ion-card-header>
      <ion-card-subtitle>user name</ion-card-subtitle>
      <ion-card-title>{{ eventToPurchase.title }}</ion-card-title>
      <ion-img [src]="eventToPurchase.image_path"></ion-img>
    </ion-card-header>
    <ion-item>
        <ion-label>תאריך: {{ eventToPurchase.starts_at }}</ion-label>
      </ion-item>
    <ion-item>
      <ion-label>מחיר לכרטיס: {{ price }}</ion-label>
    </ion-item>
        <ion-grid no-padding dir="rtl">
          <ion-row  justify-content-center>
            <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
              <div padding>
                <ion-item>
                  <ion-label position="floating" dir="rtl">בוגרים</ion-label>
                  <ion-input inputmode="number" name="quantity_adults" type="number" (ionChange)="updatePurchase()" [(ngModel)]="quantity_adults" placeholder="הכנס/י מספר בוגרים"  required></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating" dir="rtl">ילדים:</ion-label>
                  <ion-input inputmode="number" name="quantity_kids" type="number" [(ngModel)]="quantity_kids" (ionChange)="updatePurchase()" placeholder="הכנס/י מספר ילדים"  required></ion-input>
                </ion-item>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid> 
    <ion-item>
        <ion-label>מספר כרטיסים: {{ total }}</ion-label>
        <ion-card-subtitle>{{ quantity_kids }} ילדים, {{ quantity_adults }} מבוגרים </ion-card-subtitle>
   
    </ion-item>

    <ion-item>
      <ion-label>מחיר סופי: {{ totalPrice }}</ion-label>
    </ion-item>
    <ion-item dir="ltr">
      <ion-button size="default" (click)="onPurchase()">לרכישה</ion-button>
    </ion-item>

  </ion-card>
  
</ion-content>
